<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Meme Collection</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#1a1a1a; /* dark gray background */
      --deep:#ffffff; /* white text */
      --muted:#cccccc; /* light gray text */
      --viral:#FF4C4C; /* red for viral */
      --auth:#00C897; /* green for asli */
      --accent:#00A8E8; /* blue accent */
      --card-bg:#2a2a2a; /* medium gray cards */
      --radius:12px;
      --shadow: 0 6px 18px rgba(0,0,0,0.3);
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background:var(--bg); color:var(--deep); -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;}
    .app{display:flex;min-height:100vh;gap:24px;padding:24px}

    /* Sidebar */
    .sidebar{width:260px;background:linear-gradient(180deg,#2a2a2a, #1a1a1a);border-radius:var(--radius);padding:20px;box-shadow:var(--shadow);border:1px solid rgba(255,255,255,0.1)}
    .logo{font-family:Poppins, Inter;font-weight:700;font-size:20px;color:var(--deep);margin-bottom:18px}
    .nav{display:flex;flex-direction:column;gap:10px}
    .nav button{border:0;background:transparent;text-align:left;padding:10px;border-radius:10px;cursor:pointer;font-weight:600;color:var(--deep)}
    .nav button:hover{background:rgba(0,168,232,0.06)}

    /* Main */
    .main{flex:1;display:flex;flex-direction:column;gap:16px}
    .topbar{display:flex;align-items:center;justify-content:space-between;padding:12px 8px}
    .title{font-family:Poppins, Inter;font-weight:700;font-size:20px;color:var(--deep)}
    .search{padding:10px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.1);width:320px;background:#2a2a2a;color:#ffffff;box-shadow:0 2px 6px rgba(0,0,0,0.3)}

    /* Sections */
    .section{background:var(--card-bg);padding:18px;border-radius:var(--radius);box-shadow:var(--shadow);border:1px solid rgba(30,30,30,0.04)}
    .section h2{font-family:Poppins;margin-bottom:8px}
    .label-muted{font-size:13px;color:var(--muted)}

    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px}
    .card{background:var(--card-bg);border-radius:10px;padding:10px;border:1px solid rgba(30,30,30,0.05);box-shadow:0 4px 12px rgba(30,30,30,0.04);transition:transform .18s ease, box-shadow .18s ease}
    .card:hover{transform:translateY(-6px);box-shadow:0 10px 28px rgba(30,30,30,0.08)}
    .media{height:110px;border-radius:8px;background:linear-gradient(180deg,#f0f4f8,#e9eef5);display:flex;align-items:center;justify-content:center;color:var(--muted);font-weight:600;margin-bottom:10px}
    .label{font-weight:600;margin-bottom:8px;color:var(--deep)}
    .actions{display:flex;gap:8px;align-items:center}
    .btn{padding:8px 10px;border-radius:8px;border:0;cursor:pointer;font-weight:700}
    .btn-download{background:var(--viral);color:#fff}
    .btn-share{background:var(--accent);color:#fff}
    .btn-plus{background:var(--accent);color:#fff;border-radius:50%;width:36px;height:36px;display:inline-flex;align-items:center;justify-content:center;font-weight:700}

    /* badges */
    .badge{display:inline-block;padding:6px 8px;border-radius:999px;font-weight:700;font-size:12px;color:#fff}
    .badge.viral{background:var(--viral)}
    .badge.auth{background:var(--auth)}

    /* sticker row */
    .sticker-row{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
    .sticker-card{width:120px;border-radius:10px;padding:10px;background:linear-gradient(180deg,#2a2a2a,#1a1a1a);border:1px solid rgba(255,255,255,0.1);text-align:center;box-shadow:var(--shadow)}
    .plus{width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;background:var(--accent);color:#fff;font-weight:700;border:0;cursor:pointer}

    /* doksli content */
    #doksliContent{display:none;flex-direction:column;gap:12px}
    .doksli-top{display:flex;justify-content:space-between;align-items:center;gap:12px}

    .logo {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  margin-bottom: 18px;
}

.logo-img {
  width: 120px; /* sesuaikan ukuran logo */
  height: auto;
  border-radius: 10px; /* opsional, buat sudut lembut */
}

.logo-text {
  font-family: 'Poppins', sans-serif;
  font-weight: 500;
  font-size: 14px;
  color: #cccccc; /* light gray for dark theme */
  text-align: center;
}

    /* responsive */
    @media(max-width:900px){
      .app{flex-direction:column;padding:12px}
      .sidebar{width:100%;display:flex;flex-direction:row;gap:12px;overflow:auto}
      .search{width:100%}
    }

    @media(max-width:600px){
      .grid{grid-template-columns:repeat(auto-fill,minmax(160px,1fr))}
      .card .media{height:90px}
    }

    @media(max-width:480px){
      .grid{grid-template-columns:repeat(auto-fill,minmax(140px,1fr))}
      .card .media{height:80px}
    }

    /* Lightbox styles */
    .lightbox {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.9);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }

    .lightbox-content {
      max-width: 90%;
      max-height: 90%;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      border-radius: 8px;
    }

    .close {
      position: absolute;
      top: 15px;
      right: 35px;
      color: #f1f1f1;
      font-size: 40px;
      font-weight: bold;
      cursor: pointer;
      transition: color 0.3s;
    }

    .close:hover {
      color: #bbb;
    }

    @media (max-width: 768px) {
      .lightbox-content {
        width: 100vw;
        height: 100vh;
        max-width: none;
        max-height: none;
        top: 0;
        left: 0;
        transform: none;
      }
      .close {
        top: 10px;
        right: 20px;
        font-size: 30px;
      }
    }
  </style>
</head>
<body>
  <div class="app">
    <aside class="sidebar">
      <div class="logo">
        <img src="resource/logomeme.png" alt="Logo Meme Collection" class="logo-img">
        <span class="logo-text">Collect Memes</span>
      </div>

      <nav class="nav">
        <span>Meme Collection</span>
        <button data-view="home">Home</button>
        <button data-view="doksli-video">Video</button>
        <button data-view="doksli-foto">Foto</button>
        <button data-view="doksli-stiker">Stiker</button>
      </nav>
    </aside>

    <main class="main">
      <div id="originalContent">
        <div class="topbar">
          <div class="title">Meme Collection</div>
          <input class="search" placeholder="Cari meme, video, foto, stiker..." />
        </div>

        <section class="section" id="viralSection">
          <h2>Meme yang sedang viral (Video)</h2>
          <p class="label-muted">Konten viral terbaru — ditandai dengan badge <span class="badge viral">VIRAL</span></p>
          <video src="resource/meme.mp4" autoplay muted loop style="border-radius:10px;width:100%;height:260px;object-fit:cover;margin:12px 0;box-shadow:0 6px 18px rgba(30,30,30,0.04)" alt="Video Utama"></video>

          <div class="grid" id="videoGrid">
            <div class="card">
              <img src="resource/video 2.png" style="width:100%; height:200px; border-radius:8px; object-fit:cover;" alt="Video 2">
              <div class="label">Video 2</div>
              <div class="actions"><span class="badge viral">VIRAL</span><div style="flex:1"></div><button class="btn btn-download">Download</button></div>
            </div>
            <div class="card">
              <img src="resource/video 5.png" style="width:100%; height:200px; border-radius:8px; object-fit:cover;" alt="Video 5">
              <div class="label">Video 5</div>
              <div class="actions"><span class="badge viral">VIRAL</span><div style="flex:1"></div><button class="btn btn-download">Download</button></div>
            </div>
            <div class="card">
              <img src="resource/video 8.png" style="width:100%; height:200px; border-radius:8px; object-fit:cover;" alt="Video 8">
              <div class="label">Video 8</div>
              <div class="actions"><span class="badge viral">VIRAL</span><div style="flex:1"></div><button class="btn btn-download">Download</button></div>
            </div>
          </div>
        </section>

        <section class="section" id="fotoSection">
          <h2>Foto (Meme)</h2>
          <p class="label-muted">Koleksi foto meme</p>
          <div class="grid" id="fotoGrid">
            <div class="card"><img src="resource/meme 1.jpg" style="width:100%; height:200px; border-radius:8px; object-fit:cover;" alt="Meme 1"><div class="label">Meme 1</div><div class="actions"><span class="badge viral">VIRAL</span><div style="flex:1"></div><button class="btn btn-download">Download</button></div></div>
            <div class="card"><img src="resource/meme 4.jpg" style="width:100%; height:200px; border-radius:8px; object-fit:cover;" alt="Meme 4"><div class="label">Meme 4</div><div class="actions"><span class="badge viral">VIRAL</span><div style="flex:1"></div><button class="btn btn-download">Download</button></div></div>
            <div class="card"><img src="resource/meme 7.jpg" style="width:100%; height:200px; border-radius:8px; object-fit:cover;" alt="Meme 7"><div class="label">Meme 7</div><div class="actions"><span class="badge viral">VIRAL</span><div style="flex:1"></div><button class="btn btn-download">Download</button></div></div>
          </div>
        </section>

        <section class="section" id="stikerSection">
          <h2>Stiker</h2>
          <p class="label-muted">Katalog stiker viral — tambahkan ke tray dengan tombol <strong>+</strong></p>
          <div class="sticker-row" id="stickerRow">
            <div class="sticker-card"><div style="height:80px;border-radius:8px;display:flex;align-items:center;justify-content:center">Stiker 1</div><div style="margin-top:8px"><button class="plus">+</button></div></div>
            <div class="sticker-card"><div style="height:80px;border-radius:8px;display:flex;align-items:center;justify-content:center">Stiker 2</div><div style="margin-top:8px"><button class="plus">+</button></div></div>
          </div>
        </section>
      </div>

      <div id="doksliContent">
        <div class="doksli-top">
          <div class="title" id="doksliTitle">Meme Collection — Video</div>
          <div style="display:flex;gap:8px;align-items:center">
            <button class="btn" id="backHome" style="background:#ffffff;color:#000000;border:1px solid rgba(30,30,30,0.06);padding:8px 10px;border-radius:8px">← Kembali</button>
          </div>
        </div>
        <div id="doksliBody"></div>
      </div>
    </main>
  </div>

  <!-- Lightbox -->
  <div id="lightbox" class="lightbox">
    <span class="close">&times;</span>
    <div class="lightbox-content" id="lightboxContent"></div>
  </div>

  <script>
    // Views
    const original = document.getElementById('originalContent');
    const doksliView = document.getElementById('doksliContent');
    const doksliBody = document.getElementById('doksliBody');
    const doksliTitle = document.getElementById('doksliTitle');

    document.querySelectorAll('.nav button[data-view]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const view = btn.getAttribute('data-view');
        if(view==='home'){
          doksliView.style.display='none';
          original.style.display='block';
        } else {
          original.style.display = 'none';
          doksliView.style.display = 'flex';
          if(view==='doksli-video'){
            doksliTitle.textContent = 'Meme Collection — Video Katalog';
            const videos = [1,2,3,4,5,6,7,8];
            doksliBody.innerHTML = '<section class="section"><h2>Video Katalog</h2><div class="grid">'+
              videos.map(num => {
                if(num === 1){
                  return `<div class="card"><video src="resource/video tumbs.mp4" style="width:100%; height:200px; border-radius:8px; object-fit:cover;" muted loop alt="Video ${num}"></video><div class="label">Video ${num}</div><div class="actions"><button class="btn btn-share">Share</button><div style="flex:1"></div><button class="btn btn-download">Download</button></div></div>`;
                } else {
                  return `<div class="card"><img src="resource/video ${num}.png" style="width:100%; height:200px; border-radius:8px; object-fit:cover;" alt="Video ${num}"><div class="label">Video ${num}</div><div class="actions"><button class="btn btn-share">Share</button><div style="flex:1"></div><button class="btn btn-download">Download</button></div></div>`;
                }
              }).join('')+
            '</div></section>';
          }
          if(view==='doksli-foto'){
            doksliTitle.textContent = 'Meme Collection — Foto Katalog';
            const memes = [1,2,3,4,5,6,7,8];
            doksliBody.innerHTML = '<section class="section"><h2>Foto Katalog</h2><div class="grid">'+
              memes.map(num => `<div class="card"><img src="resource/meme ${num}.jpg" style="width:100%; height:200px; border-radius:8px; object-fit:cover;" alt="Meme ${num}"><div class="label">Meme ${num}</div><div class="actions"><button class="btn btn-share">Share</button><div style="flex:1"></div><button class="btn btn-download">Download</button></div></div>`).join('')+
            '</div></section>';
          }
          if(view==='doksli-stiker'){
            doksliTitle.textContent = 'Meme Collection — Stiker Katalog';
            doksliBody.innerHTML = '<section class="section"><h2>Stiker Katalog</h2><p class="label-muted">Stickers — add to tray with the <strong>+</strong> button</p><div class="sticker-row">'+
              Array.from({length:8},(_,i)=>`<div class="sticker-card"><img src="resource/stiker ${i+1}.jpg" style="width:100%; height:80px;border-radius:8px;object-fit:cover;" alt="Stiker ${i+1}"><div style="margin-top:8px"><button class="plus" data-sticker="Stiker ${i+1}">+</button></div></div>`).join('')+
            '</div></section>';
            // attach plus handlers after DOM insertion
            setTimeout(()=>{
              document.querySelectorAll('#doksliBody .plus').forEach(p=>{
                p.addEventListener('click', ()=>{
                  alert(p.getAttribute('data-sticker') + " ditambahkan ke tray (simulasi).");
                });
              });
            },50);
          }
        }
      });
    });

    document.getElementById('backHome').addEventListener('click', ()=>{
      doksliView.style.display='none';
      original.style.display='block';
    });

    // Randomize home page grids on load
    function randomizeHomeGrids() {
      // Randomize videoGrid
      const videoNums = [1,2,3,4,5,6,7,8].sort(() => Math.random() - 0.5).slice(0,3);
      const videoGrid = document.getElementById('videoGrid');
      videoGrid.innerHTML = videoNums.map(num => `
        <div class="card">
          <img src="resource/video ${num}.png" style="width:100%; height:200px; border-radius:8px; object-fit:cover;" alt="Video ${num}">
          <div class="label">Video ${num}</div>
          <div class="actions"><span class="badge viral">VIRAL</span><div style="flex:1"></div><button class="btn btn-download">Download</button></div>
        </div>
      `).join('');

      // Randomize fotoGrid
      const memeNums = [1,2,3,4,5,6,7,8].sort(() => Math.random() - 0.5).slice(0,3);
      const fotoGrid = document.getElementById('fotoGrid');
      fotoGrid.innerHTML = memeNums.map(num => `
        <div class="card">
          <img src="resource/meme ${num}.jpg" style="width:100%; height:200px; border-radius:8px; object-fit:cover;" alt="Meme ${num}">
          <div class="label">Meme ${num}</div>
          <div class="actions"><span class="badge viral">VIRAL</span><div style="flex:1"></div><button class="btn btn-download">Download</button></div>
        </div>
      `).join('');
    }

    // Call on page load
    randomizeHomeGrids();

    // Search functionality with debounce
    const searchInput = document.querySelector('.search');
    let searchTimeout;

    function performSearch() {
      const query = searchInput.value.trim().toLowerCase();
      if (query === '') {
        return;
      }

      // Filter videos
      const allVideos = [1,2,3,4,5,6,7,8];
      const filteredVideos = allVideos.filter(num => `video ${num}`.includes(query) || `Video ${num}`.toLowerCase().includes(query));

      // Filter memes
      const allMemes = [1,2,3,4,5,6,7,8];
      const filteredMemes = allMemes.filter(num => `meme ${num}`.includes(query) || `Meme ${num}`.toLowerCase().includes(query));

      // Switch to search results view
      original.style.display = 'none';
      doksliView.style.display = 'flex';
      doksliTitle.textContent = `Hasil Pencarian: "${searchInput.value.trim()}"`;

      let resultsHTML = '';

      if (filteredVideos.length > 0) {
        resultsHTML += '<section class="section"><h2>Video Results</h2><p class="label-muted">Hasil pencarian video</p><div class="grid">' +
          filteredVideos.map(num => {
            if (num === 1) {
              return `<div class="card"><video src="resource/video tumbs.mp4" style="width:100%; height:200px; border-radius:8px; object-fit:cover;" muted loop alt="Video ${num}"></video><div class="label">Video ${num}</div><div class="actions"><button class="btn btn-share">Share</button><div style="flex:1"></div><button class="btn btn-download">Download</button></div></div>`;
            } else {
              return `<div class="card"><img src="resource/video ${num}.png" style="width:100%; height:200px; border-radius:8px; object-fit:cover;" alt="Video ${num}"><div class="label">Video ${num}</div><div class="actions"><button class="btn btn-share">Share</button><div style="flex:1"></div><button class="btn btn-download">Download</button></div></div>`;
            }
          }).join('') + '</div></section>';
      }

      if (filteredMemes.length > 0) {
        resultsHTML += '<section class="section"><h2>Foto Results</h2><p class="label-muted">Hasil pencarian foto meme</p><div class="grid">' +
          filteredMemes.map(num => `<div class="card"><img src="resource/meme ${num}.jpg" style="width:100%; height:200px; border-radius:8px; object-fit:cover;" alt="Meme ${num}"><div class="label">Meme ${num}</div><div class="actions"><button class="btn btn-share">Share</button><div style="flex:1"></div><button class="btn btn-download">Download</button></div></div>`).join('') +
          '</div></section>';
      }

      if (filteredVideos.length === 0 && filteredMemes.length === 0) {
        resultsHTML = '<section class="section"><h2>Tidak Ada Hasil</h2><p class="label-muted">Tidak ditemukan hasil untuk pencarian Anda.</p></section>';
      }

      doksliBody.innerHTML = resultsHTML;

      // Clear search input after search
      searchInput.value = '';
    }

    searchInput.addEventListener('input', () => {
      clearTimeout(searchTimeout);
      searchTimeout = setTimeout(performSearch, 500); // Wait 500ms after user stops typing
    });

    // Sample interactions: download and plus (simulation)
    document.addEventListener('click',(e)=>{
      if(e.target.matches('.btn-download')){
        alert('Simulasi: memulai download file (tidak nyata pada wireframe).');
      }
      if(e.target.matches('.plus') && e.target.closest('#originalContent')){
        alert('Simulasi: menambahkan stiker ke tray (Home).');
      }
    });

    // Lightbox functionality
    const lightbox = document.getElementById('lightbox');
    const lightboxContent = document.getElementById('lightboxContent');
    const closeBtn = document.querySelector('.close');

    function openLightbox(src, isVideo = false) {
      const isMobile = window.innerWidth <= 768;
      const style = isMobile ? 'width:100%; height:100%; object-fit:contain; border-radius:8px;' : 'max-width:100%; max-height:100%; border-radius:8px;';
      lightboxContent.innerHTML = isVideo ? `<video src="${src}" controls autoplay style="${style}"></video>` : `<img src="${src}" style="${style}" alt="">`;
      lightbox.style.display = 'block';
      document.body.style.overflow = 'hidden'; // Disable scroll
    }

    function closeLightbox() {
      lightbox.style.display = 'none';
      lightboxContent.innerHTML = '';
      document.body.style.overflow = 'auto'; // Enable scroll
    }

    // Close lightbox when clicking close button
    closeBtn.addEventListener('click', closeLightbox);

    // Close lightbox when clicking outside the content
    lightbox.addEventListener('click', (e) => {
      if (e.target === lightbox) {
        closeLightbox();
      }
    });

    // Attach click event to all images and videos
    function attachLightboxEvents() {
      document.querySelectorAll('.card img, .sticker-card img').forEach(img => {
        img.addEventListener('click', () => {
          openLightbox(img.src);
        });
      });
      document.querySelectorAll('.card video').forEach(video => {
        video.addEventListener('click', () => {
          openLightbox(video.src, true);
        });
      });
    }

    // Attach events on page load
    attachLightboxEvents();

    // Re-attach events after dynamic content is loaded
    const observer = new MutationObserver(() => {
      attachLightboxEvents();
    });
    observer.observe(document.body, { childList: true, subtree: true });
  </script>
</body>
</html>
